<!-- This file is auto-generated. -->

<!-- Multi_serve starts the nodes that are to be started for each instance
with the corresponding instance configurations. -->

<launch>
    <!-- Default arguments -->
    <arg  name="namespace"
        default="{{ args.package.name |regex_replace('[^A-Za-z0-9]', '_')}}"
            doc="Namespace for the {{ args.package.name |regex_replace('[^A-Za-z0-9]', '_')}} nodes." />
    <arg  name="simulation"
        default="true"
            doc="Flag to start the application as a simulation or not." />
    <arg  name="simulation_with_gazebo"
        default="true"
            doc="Flag to start the application with Gazebo simulation. If simulation is false, this will be ignored." />

    <!-- Specific arguments -->
    <arg name="instance_config_folder"
    default="$(find {{ args.package.name |regex_replace('[^A-Za-z0-9]', '_')}})/example/instance_config/$(arg namespace)"
        doc="Location of the instance config folder." />

{%- if args.multi_serve  %}{%- if args.multi_serve.launch  %}{%- if args.multi_serve.launch.arguements  %}
{%- for arg in args.multi_serve.launch.arguements %}
    <arg   name="{{ arg.name }}"
        default="{{ arg.default }}"
            doc="{{ arg.description }}" />
{% endfor %}{% endif %}{% endif %}{% endif %}

    <!--  Place the main part in the instance/{{ args.package_name }}.launch file. -->
    <group ns="{{ args.package.name |regex_replace('[^A-Za-z0-9]', '_')}}">
        <include file="$(find {{ args.package.name |regex_replace('[^A-Za-z0-9]', '_')}})/launch/instance/{{ args.package.name |regex_replace('[^A-Za-z0-9]', '_')}}.launch" pass_all_args="true"/>
    </group>

</launch>